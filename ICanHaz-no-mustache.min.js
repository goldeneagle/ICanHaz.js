(function(){(function(){var a={VERSION:"0.9",templates:{},$:typeof window!=="undefined"?window.jQuery||window.Zepto||null:null,addTemplate:function(b,f){if(a[b])throw"Invalid name: "+b+".";if(a.templates[b])throw'Template " + name + " exists';a.templates[b]=f;a[b]=function(d,c){d=d||{};var e=Mustache.to_html(a.templates[b],d,a.templates);return a.$&&!c?a.$(e):e}},clearAll:function(){for(var b in a.templates)delete a[b];a.templates={}},refresh:function(){a.clearAll();a.grabTemplates()},grabTemplates:function(){var b,
f=document.scripts,d=f.length,c,e=[];for(b=0;b<d;b++)if((c=f[b])&&c.innerText&&c.id&&(c.type==="text/html"||c.type==="text/x-icanhaz")){a.addTemplate(c.id,"".trim?c.innerText.trim():s.replace(/^\s+/,"").replace(/\s+$/,""));e.unshift(c)}b=0;for(d=e.length;b<d;b++)e[b].parentElement.removeChild(e[b])}};if(typeof require!=="undefined")module.exports=a;else window.ich=a;if(typeof document!=="undefined")a.$?a.$(function(){a.grabTemplates()}):document.addEventListener("DOMContentLoaded",function(){a.grabTemplates()})})()})();
